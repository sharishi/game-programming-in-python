### Модули и Пакеты в Python. Работа с Shell

#### 1. **Модули в Python**
Модуль — это файл с расширением `.py`, который содержит определения функций, классов и переменных, а также может включать исполняемый код. Модули используются для структурирования кода, повышения читаемости и повторного использования.

##### Импорт модуля:
- Импортировать модуль можно с помощью команды `import`.
- Импортировать определенные элементы из модуля можно с помощью команды `from`.

**Примеры:**
```python
# Импорт всего модуля
import math
print(math.sqrt(16))  # Вывод: 4.0

# Импорт конкретной функции из модуля
from math import pi
print(pi)  # Вывод: 3.141592653589793

# Импорт с псевдонимом
import numpy as np
array = np.array([1, 2, 3])
print(array)  # Вывод: [1 2 3]
```

##### Встроенные модули:
Python предоставляет множество встроенных модулей, например:
- `os`, `sys`, `math`, `datetime`, `random`.

##### Создание собственного модуля:
Файл `my_module.py`:
```python
def greet(name):
    return f"Hello, {name}!"

PI = 3.14159
```

Использование:
```python
import my_module
print(my_module.greet("Alice"))  # Вывод: Hello, Alice!
print(my_module.PI)             # Вывод: 3.14159
```
---

### Работа с атрибутом `__name__` в Python

1. **Что такое атрибут `__name__`?**
   Атрибут `__name__` — это предопределенная переменная в Python, которая хранит строковое значение, представляющее имя текущего модуля.

2. **Значение `__name__`:**
   - Когда модуль запускается напрямую, значение атрибута `__name__` равно `'__main__'`.
   - Когда модуль импортируется в другой, значение `__name__` становится именем самого модуля.

---

### Пример:

```python
# example.py

print(__name__)
```

- **Если файл `example.py` запускается напрямую:**
  ```
  __main__
  ```

- **Если файл `example.py` импортируется как модуль в другой файл:**
  ```python
  import example
  ```

  Выведет:
  ```
  example
  ```


3. **Использование `__name__` для контроля выполнения кода:**
   Часто используют конструкцию `if __name__ == '__main__':`, чтобы код выполнялся только при запуске модуля, а не при его импорте в другие модули.

### Пример с `if __name__ == '__main__':`

```python
# example.py

def print_message():
    print("Hello from the function!")

if __name__ == '__main__':
    print("This code is running directly!")
    print_message()
```

- **При запуске файла `example.py` напрямую** будет выведено:
  ```
  This code is running directly!
  Hello from the function!
  ```

- **Если файл `example.py` импортируется в другом модуле:**
  ```python
  import example
  ```
  Код внутри блока `if __name__ == '__main__':` не будет выполнен.


### Зачем это нужно?

- **Разделение кода для тестирования и использования:** Позволяет писать тесты и демонстрационные примеры внутри модуля, которые будут выполняться только при прямом запуске, но не при импорте модуля в другие программы.
- **Переиспользование кода:** Код, предназначенный для повторного использования (например, функции или классы), не будет выполняться при импорте модуля в другой файл.

---

### 2. **Пакеты в Python**
Пакет — это коллекция модулей, организованных в директории. Директория пакета должна содержать файл `__init__.py` (в Python 3.3 и выше он может быть пустым).

#### Зачем нужны пакеты в Python?

1. **Организация кода:**
   Пакеты позволяют группировать модули по функциональности, упрощая структуру проекта и делая код более понятным и поддерживаемым.

2. **Масштабируемость:**
   Пакеты облегчают расширение проекта, добавляя новые модули без путаницы в именах файлов.

3. **Повторное использование кода:**
   Благодаря пакетам можно создавать модульные компоненты, которые легко подключать и повторно использовать в разных частях проекта.

4. **Изоляция пространства имен:**
   Пакеты помогают избежать конфликтов имен между модулями, так как каждый модуль находится в своем пакете, и доступ к нему осуществляется через его имя (например, `package.module`).

5. **Чистота структуры проекта:**
   Пакеты способствуют более чистой и логичной организации файлов, что особенно важно в больших проектах.

---

Пакеты облегчают поддержку и развитие проекта, а также позволяют удобно разделять различные части программы, сохраняя гибкость и читаемость кода.
##### Структура пакета:
```
my_package/
    __init__.py
    module1.py
    module2.py
```

**Пример использования:**
```python
# В файле module1.py
def func1():
    return "Function 1"

# В файле module2.py
def func2():
    return "Function 2"

# Импорт модуля из пакета
from my_package import module1
print(module1.func1())  # Вывод: Function 1
```

##### Инициализация пакета:
Файл `__init__.py` позволяет определить, что будет импортироваться при использовании `from package import *`.

**Пример:**
```python
# В __init__.py
__all__ = ['module1', 'module2']
```

---

#### 3. **Работа с Shell**
Shell в Python — это интерактивная среда выполнения, которая позволяет писать и запускать код построчно.

##### Основные Shell-ы:
1. **Python REPL (Read-Eval-Print Loop):**
   - Запуск: команда `python` или `python3` в терминале.
   - Используется для быстрого тестирования кода.

2. **IPython:**
   - Улучшенный Shell с автодополнением и интерактивными возможностями.
   - Установка: `pip install ipython`.
   - Запуск: команда `ipython`.

3. **Jupyter Notebook:**
   - Интерактивная среда для написания и выполнения кода.
   - Установка: `pip install notebook`.
   - Запуск: команда `jupyter notebook`.

##### Выполнение Python-скриптов через Shell:
- Запуск файла: 
  ```bash
  python script.py
  ```
- Передача аргументов:
  ```bash
  python script.py arg1 arg2
  ```
- Получение аргументов в скрипте:
  ```python
  import sys
  print(sys.argv)  # Вывод: ['script.py', 'arg1', 'arg2']
  ```

---

#### 4. **Работа с внешними модулями**
Для установки и управления внешними модулями используется `pip`.

**Пример установки:**
```bash
pip install requests
```

**Пример использования установленного модуля:**
```python
import requests
response = requests.get("https://api.github.com")
print(response.status_code)  # Вывод: 200
```

---

### Виртуальная среда (Virtual Environment) в Python

#### Что такое виртуальная среда?
Виртуальная среда — это изолированное окружение для Python-проектов, которое позволяет устанавливать зависимости (библиотеки и пакеты) отдельно для каждого проекта. Это помогает избежать конфликтов между различными проектами, работающими на одной машине.

---

#### Основные преимущества:
1. **Изоляция зависимостей:**
   - У каждого проекта своя версия библиотек.
   - Системный Python остается нетронутым.

2. **Управление версиями пакетов:**
   - Легко использовать разные версии одной и той же библиотеки для разных проектов.

3. **Простота настройки:**
   - Создание и активация виртуальных сред легко интегрируется в рабочий процесс.

---

#### Шаги создания и использования виртуальной среды

1. **Убедитесь, что Python установлен:**
   - Проверьте версию Python:
     ```bash
     python --version
     ```

2. **Создание виртуальной среды:**
   - Выполните команду:
     ```bash
     python -m venv myenv
     ```
   - Здесь `myenv` — имя папки, где будет находиться виртуальная среда.

3. **Активация виртуальной среды:**
   - **Windows:**
     ```bash
     .\myenv\Scripts\activate
     ```
   - **macOS/Linux:**
     ```bash
     source myenv/bin/activate
     ```
   - После активации вы увидите название среды перед строкой терминала:
     ```
     (myenv) PS C:\Users\username\project>
     ```

4. **Установка библиотек:**
   - После активации все пакеты устанавливаются локально для текущей среды:
     ```bash
     pip install requests
     ```

5. **Деактивация виртуальной среды:**
   - Чтобы выйти из виртуальной среды, используйте:
     ```bash
     deactivate
     ```

6. **Удаление виртуальной среды:**
   - Просто удалите папку `myenv`:
     ```bash
     rm -rf myenv  # macOS/Linux
     rmdir /s myenv # Windows
     ```

---

#### Использование файла `requirements.txt`
Для удобства управления зависимостями используйте файл `requirements.txt`.

1. **Создание файла `requirements.txt`:**
   - Сохраните список установленных библиотек:
     ```bash
     pip freeze > requirements.txt
     ```

2. **Установка зависимостей из файла:**
   - Выполните команду:
     ```bash
     pip install -r requirements.txt
     ```

---

#### Пример рабочего процесса:
```bash
# Создание виртуальной среды
python -m venv venv

# Активация
.\venv\Scripts\activate

# Установка библиотек
pip install flask

# Сохранение зависимостей
pip freeze > requirements.txt

# Деактивация
deactivate
```

Теперь вы знаете, как работать с виртуальными средами в Python! 🎉

---

## Знакомство с библиотекой NumPy

### 1. Основные концепции NumPy
- NumPy (Numerical Python) – библиотека для работы с многомерными массивами и числовыми вычислениями.
- Основной объект – `ndarray` (N-dimensional array).
- NumPy эффективно работает с массивами благодаря векторизации и использованию C/C++ кода под капотом.
- Используется в машинном обучении, анализе данных, обработке изображений и даже в разработке игр.

### 2. Создание массивов
- Из списка:
  ```python
  import numpy as np
  arr = np.array([1, 2, 3, 4])
  print(arr)
  ```
- Заполненные массивы:
  ```python
  np.zeros((3, 3))   # массив из нулей
  np.ones((2, 2))    # массив из единиц
  np.eye(3)          # единичная матрица
  ```
- Диапазоны чисел:
  ```python
  np.arange(0, 10, 2)    # массив чисел от 0 до 10 с шагом 2
  np.linspace(0, 1, 5)   # 5 равномерных значений от 0 до 1
  ```
- Случайные числа:
  ```python
  np.random.rand(3, 3)   # массив случайных чисел от 0 до 1
  np.random.randint(1, 10, (3, 3))  # случайные целые числа от 1 до 10
  ```

### 3. Операции с массивами
- Арифметические операции:
  ```python
  a = np.array([1, 2, 3])
  b = np.array([4, 5, 6])
  print(a + b)  # [5 7 9]
  print(a * b)  # [4 10 18]
  print(a / 2)  # [0.5 1.0 1.5]
  ```
- Индексация и срезы:
  ```python
  arr = np.array([[1, 2, 3], [4, 5, 6]])
  print(arr[0, 1])   # 2
  print(arr[:, 1])   # [2 5]
  ```
- Изменение формы:
  ```python
  arr = np.arange(6).reshape(2, 3)
  print(arr)
  ```
- Агрегатные функции:
  ```python
  print(np.sum(arr))   # сумма всех элементов
  print(np.mean(arr))  # среднее значение
  print(np.min(arr))   # минимум
  print(np.max(arr))   # максимум
  ```

### 4. Линейная алгебра в NumPy
- Умножение матриц:
  ```python
  A = np.array([[1, 2], [3, 4]])
  B = np.array([[5, 6], [7, 8]])
  print(np.dot(A, B))  # [[19 22] [43 50]]
  ```
- Транспонирование:
  ```python
  print(A.T)  # [[1 3] [2 4]]
  ```
- Обратная матрица:
  ```python
  print(np.linalg.inv(A))
  ```

### 5. NumPy в играх
NumPy активно используется в разработке игр, например:
- Физические симуляции (движение объектов, столкновения).
- Генерация случайных уровней (перемешивание и создание карт).
- Обработка изображений (анализ и манипуляция пикселями).
- Искусственный интеллект (анализ данных и прогнозирование действий игроков).

Пример генерации игрового мира:
```python
world = np.random.randint(0, 2, (5, 5))  # 0 - пусто, 1 - препятствие
print(world)
```

Пример вектора движения персонажа:
```python
position = np.array([5, 5])
movement = np.array([1, -1])
new_position = position + movement
print(new_position)  # [6 4]
```

---

## Часть 2: Введение в базы данных

### 1. Основные понятия баз данных
- База данных (БД) – организованный набор данных.
- СУБД (Система управления базами данных) – программа для управления БД (например, MySQL, PostgreSQL, SQLite).
- SQL (Structured Query Language) – язык запросов к реляционным базам данных.

### 2. Основные операции SQL
- Создание таблицы:
  ```sql
  CREATE TABLE users (
      id SERIAL PRIMARY KEY,
      name VARCHAR(100),
      age INT
  );
  ```
- Вставка данных:
  ```sql
  INSERT INTO users (name, age) VALUES ('Alice', 25);
  ```
- Выборка данных:
  ```sql
  SELECT * FROM users;
  ```
- Фильтрация данных:
  ```sql
  SELECT * FROM users WHERE age > 20;
  ```
- Обновление данных:
  ```sql
  UPDATE users SET age = 26 WHERE name = 'Alice';
  ```
- Удаление данных:
  ```sql
  DELETE FROM users WHERE name = 'Alice';
  ```

### 3. Основные типы данных SQL
- `INTEGER` – целые числа.
- `VARCHAR(n)` – строка длиной `n`.
- `TEXT` – неограниченная строка.
- `BOOLEAN` – логический тип.
- `DATE` – дата.

### 4. Работа с SQLite в Python
- Подключение к БД:
  ```python
  import sqlite3
  conn = sqlite3.connect('database.db')
  cursor = conn.cursor()
  ```
- Создание таблицы:
  ```python
  cursor.execute("""
  CREATE TABLE users (
      id INTEGER PRIMARY KEY,
      name TEXT,
      age INTEGER
  )
  """)
  conn.commit()
  ```
- Вставка данных:
  ```python
  cursor.execute("INSERT INTO users (name, age) VALUES (?, ?)", ('Alice', 25))
  conn.commit()
  ```
- Получение данных:
  ```python
  cursor.execute("SELECT * FROM users")
  print(cursor.fetchall())
  ```

---

## Заключение
- NumPy – мощная библиотека для численных вычислений и работы с массивами.
- SQL – основной инструмент работы с реляционными базами данных.
- SQLite – удобная встроенная СУБД для небольших проектов в Python.
- Связка Python + NumPy + SQL позволяет анализировать данные и работать с базами эффективно.

**Домашнее задание:**
1. Создать двумерный массив NumPy и выполнить над ним основные операции (сложение, умножение, транспонирование).
2. Создать SQLite базу данных, добавить в нее таблицу с пользователями и выполнить несколько SQL-запросов (INSERT, SELECT, UPDATE, DELETE).

